{"version":3,"file":"js/AutocompleteProvider-fe1b96e9da8b550ffbb7.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;AAEA;AAEO,MAAMA,mBAAN,CAA0B;AAC7BC,EAAAA,WAAW,CAACC,QAAD,EAAW;AAClB,QAAI,CAACA,QAAD,IAAaA,QAAQ,CAACC,MAAT,KAAoB,CAArC,EAAwC;AACpC,YAAM,IAAIC,KAAJ,4DAAN;AAGH;;AAED,SAAKC,oBAAL,GAA4B,EAA5B;AACA,UAAMC,iBAAiB,GAAG,CAAC,+BAAD,CAA1B;AAEAC,IAAAA,KAAK,CAACC,IAAN,CAAWN,QAAX,EAAqBO,OAArB,CAA8BC,OAAD,IAAa;AACtC,UAAIJ,iBAAiB,CAACK,OAAlB,CAA0BD,OAAO,CAACT,WAAR,CAAoBW,IAA9C,MAAwD,CAAC,CAA7D,EAAgE;AAC5D,cAAM,IAAIR,KAAJ,WACCM,OAAO,CAACT,WAAR,CAAoBW,IADrB,6BAAN;AAGH,OAJD,MAIO;AACH,aAAKC,eAAL,CAAqBH,OAArB;AACH;AACJ,KARD;AASH;;AAEDG,EAAAA,eAAe,CAACH,OAAD,EAAU;AACrB,SAAKL,oBAAL,CAA0BS,IAA1B,CAA+BJ,OAA/B;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AACIK,EAAAA,UAAU,CAACC,IAAD,EAAOC,MAAP,EAAe;AACrB,WAAOC,OAAO,CAACC,GAAR,CACH,KAAKd,oBAAL,CAA0Be,GAA1B,CAA+BV,OAAD,IAC1BA,OAAO,CAACK,UAAR,CAAmBC,IAAnB,EAAyBC,MAAzB,CADJ,CADG,EAKFI,IALE,CAKIC,MAAD,IAAY;AACd,YAAMC,aAAa,GAAG,EAAtB;AACA,UAAIC,YAAY,GAAG,CAAnB;AACA,UAAIC,CAAC,GAAG,CAAR,CAHc,CAKd;;AACAH,MAAAA,MAAM,CAACF,GAAP,CAAW,OAAWM,GAAX,KAAmB;AAAA,YAAlB;AAAEC,UAAAA;AAAF,SAAkB;AAC1BH,QAAAA,YAAY,IAAIG,IAAI,CAACxB,MAArB;AACAoB,QAAAA,aAAa,CAACG,GAAD,CAAb,GAAqB,EAArB;;AACA,YAAIC,IAAI,CAACxB,MAAT,EAAiB;AACbwB,UAAAA,IAAI,CAAClB,OAAL,CAAcmB,OAAD,IAAa;AACtB;AACAL,YAAAA,aAAa,CAACG,GAAD,CAAb,CAAmBD,CAAC,EAApB,IAA0BG,OAA1B;AACH,WAHD;AAIH;;AACD,eAAOL,aAAP;AACH,OAVD;AAYA,aAAO;AAAEM,QAAAA,OAAO,EAAEN,aAAX;AAA0BO,QAAAA,KAAK,EAAEN;AAAjC,OAAP;AACH,KAxBE,EAyBFO,KAzBE,CAyBKC,KAAD,IAAW;AACd;AACAC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACA,aAAO;AAAEH,QAAAA,OAAO,EAAE,CAAX;AAAcC,QAAAA,KAAK,EAAE,CAArB;AAAwBE,QAAAA;AAAxB,OAAP;AACH,KA7BE,CAAP;AA8BH;;AAjE4B;;;;;;ACPjC;AACA;AASA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMkB,aAAa,GAAIC,KAAD,IAAW;AAC7B,QAAMC,aAAa,GAAGD,KAAK,CAACE,QAAN,CAAeC,WAAf,EAAtB;AACA,QAAMC,gBAAgB,GAAGlB,iBAAO,CAC5B,mBAAME,cAAI,CAAC,MAAM,2BAAO,YAAea,aAAtB,EAAP,CADkB,EAE5B,EAF4B,CAAhC;AAKA,sBACI,oBAAC,cAAD;AACI,OAAG,sBAAeA,aAAf,CADP;AAEI,YAAQ,eAAE;AAAM,eAAS,EAAC;AAAhB;AAFd,kBAII,oBAAC,gBAAD,EAAsBD,KAAtB,CAJJ,CADJ;AAQH,CAfD;;AAiBA,SAASK,YAAT,CAAsBL,KAAtB,EAA6B;AACzB,QAAM;AACFM,IAAAA,EADE;AAEFC,IAAAA,SAFE;AAGFC,IAAAA,WAHE;AAIFC,IAAAA,QAJE;AAKFC,IAAAA,MALE;AAMFC,IAAAA,MANE;AAOFC,IAAAA;AAPE,MAQFZ,KARJ;AAUA,QAAM;AAAEa,IAAAA,gBAAF;AAAoBC,IAAAA,aAApB;AAAmCnC,IAAAA,KAAnC;AAA0CoC,IAAAA;AAA1C,MAA2DrB,yBAAQ,EAAzE;AAEA,QAAM,CAACsB,gBAAD,EAAmBC,mBAAnB,IAA0CjC,kBAAQ,CAAC,IAAD,CAAxD;AACA,QAAM,CAACkC,MAAD,EAASC,SAAT,IAAsBnC,kBAAQ,CAAC,IAAD,CAApC;AACA,QAAM,CAACoC,WAAD,EAAcC,cAAd,IAAgCrC,kBAAQ,CAAC,IAAD,CAA9C;AACA,QAAM,CAACsC,KAAD,EAAQC,QAAR,IAAoBvC,kBAAQ,IAAlC;AACA,QAAM,CAACwC,cAAD,EAAiBC,iBAAjB,IAAsCzC,kBAAQ,IAApD;AAEA,QAAM0C,OAAO,GAAGrC,gBAAM,EAAtB;AACA,QAAMsC,SAAS,gBAAGrC,mBAAS,EAA3B;AAEA,QAAM,CAACsC,QAAD,EAAWC,SAAX,IAAwB/B,+BAAW,EAAzC;AAEA,QAAM;AAAEgC,IAAAA;AAAF,MAAoBtC,mCAAW,CAAC;AAClCuC,IAAAA,OAAO,EAAGC,CAAD,IAAO;AACZ,UAAIC,KAAK,GAAG,CAAC,CAAb,CADY,CAEZ;;AACA,UAAID,CAAC,CAACE,OAAF,KAAc,EAAlB,EAAsB;AAClBb,QAAAA,cAAc,CAAC,KAAD,CAAd;AACAR,QAAAA,gBAAgB,CAAC,CAAC,CAAF,CAAhB;AACA;AACH,OAPW,CAQZ;;;AACA,UAAImB,CAAC,CAACE,OAAF,KAAc,EAAlB,EAAsB;AAClBD,QAAAA,KAAK,GAAGnB,aAAa,GAAG,CAAhB,IAAqBnC,KAArB,GAA6B,CAA7B,GAAiCmC,aAAa,GAAG,CAAzD;AACH,OAXW,CAYZ;;;AACA,UAAIkB,CAAC,CAACE,OAAF,KAAc,EAAlB,EAAsB;AAClBD,QAAAA,KAAK,GAAGnB,aAAa,GAAG,CAAhB,GAAoB,CAApB,GAAwBnC,KAAK,GAAG,CAAhC,GAAoCmC,aAAa,GAAG,CAA5D;AACH,OAfW,CAgBZ;;;AACA,UAAIkB,CAAC,CAACE,OAAF,KAAc,EAAlB,EAAsB;AAClB;AACA,YAAIpB,aAAa,KAAK,CAAC,CAAvB,EAA0B;AACtBK,UAAAA,SAAS,CAAC,IAAD,CAAT;AACA;AACH,SALiB,CAOlB;;;AACAS,QAAAA,QAAQ,CAACd,aAAD,CAAR,CAAwBqB,KAAxB;AACH;;AAEDtB,MAAAA,gBAAgB,CAACoB,KAAD,CAAhB;AACAhB,MAAAA,mBAAmB,CAACgB,KAAD,CAAnB;AACAZ,MAAAA,cAAc,CAAC1C,KAAK,GAAG,CAAT,CAAd;AACH,KAhCiC;AAiClCyD,IAAAA,SAAS,EAAGJ,CAAD,IAAO;AACd;AACA,UAAIA,CAAC,CAACE,OAAF,KAAc,EAAd,IAAoBF,CAAC,CAACE,OAAF,KAAc,EAAlC,IAAwCF,CAAC,CAACE,OAAF,KAAc,EAA1D,EAA8D;AAC1DF,QAAAA,CAAC,CAACK,cAAF;AACH;;AACD,aAAO,KAAP;AACH;AAvCiC,GAAD,CAArC,CAxByB,CAkEzB;;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAuB7C,sCAAc,CAAC;AACxC8C,IAAAA,aAAa,EAAE,MAAM;AACjBlB,MAAAA,cAAc,CAAC1C,KAAK,GAAG,CAAT,CAAd;AACH,KAHuC;AAIxC6D,IAAAA,YAAY,EAAE,MAAM;AAChBnB,MAAAA,cAAc,CAAC,KAAD,CAAd;AACH;AANuC,GAAD,CAA3C,CAnEyB,CA4EzB;;AACApC,EAAAA,mBAAS,CAAC,MAAM;AACZoC,IAAAA,cAAc,CAAC1C,KAAK,GAAG,CAAT,CAAd;AACA,UAAM8D,OAAO,GACT9D,KAAK,GAAG,CAAR,aACSA,KADT,0BAC8B2C,KAD9B,mCAE8BA,KAF9B,CADJ;AAKAG,IAAAA,iBAAiB,CAACgB,OAAD,CAAjB;AACH,GARQ,EAQN,CAAC9D,KAAD,EAAQ2C,KAAR,CARM,CAAT,CA7EyB,CAuFzB;;AACArC,EAAAA,mBAAS,CAAC,MAAM;AACZ,UAAMyD,eAAe,GAAGC,UAAU,CAAC,YAAY;AAC3C,YAAM5B,YAAY,CAACO,KAAD,EAAQf,SAAR,CAAlB;AACH,KAFiC,EAE/BE,QAF+B,CAAlC;AAIA,WAAO,MAAMmC,YAAY,CAACF,eAAD,CAAzB;AACH,GANQ,EAMN,CAACpB,KAAD,CANM,CAAT,CAxFyB,CAgGzB;;AACArC,EAAAA,mBAAS,CAAC,MAAM;AACZ,QAAIiC,MAAM,IAAIQ,OAAO,CAACmB,OAAlB,IAA6BlB,SAAS,CAACkB,OAA3C,EAAoD;AAChDlB,MAAAA,SAAS,CAACkB,OAAV,CAAkBC,KAAlB,GAA0BxB,KAA1B;AACAI,MAAAA,OAAO,CAACmB,OAAR,CAAgB3B,MAAhB;AACH;AACJ,GALQ,EAKN,CAACA,MAAD,CALM,CAAT;;AAOA,QAAM6B,mBAAmB,GAAG,QAAkC;AAAA,QAAjC;AAAEC,MAAAA,aAAa,EAAE;AAAEF,QAAAA;AAAF;AAAjB,KAAiC;AAC1DvB,IAAAA,QAAQ,CAACuB,KAAD,CAAR;AACH,GAFD,CAxGyB,CA4GzB;;;AACA,QAAMG,WAAW,GAAG,CAACjB,CAAD,EAAIc,KAAJ,KAAc;AAC9Bd,IAAAA,CAAC,CAACK,cAAF;AACAd,IAAAA,QAAQ,CAACuB,KAAD,CAAR;AACA3B,IAAAA,SAAS,CAAC,IAAD,CAAT;AACH,GAJD;;AAMA,sBACI;AAAK,aAAS,EAAC;AAAf,kBACI,wCACQmB,gBADR;AAEI,QAAI,EAAC,UAFT;AAGI,qBAAelB,WAHnB;AAII,2BAAcd,EAAd,UAJJ;AAKI,qBAAc,MALlB;AAMI,+BAAkBA,EAAlB,WANJ;AAOI,MAAE,YAAKA,EAAL;AAPN,mBASI;AACI,OAAG,EAAEoB,OADT;AAEI,UAAM,EAAEhB,MAFZ;AAGI,UAAM,EAAEC,MAHZ;AAII,YAAQ,EAAGqB,CAAD,IAAOA,CAAC,CAACK,cAAF,EAJrB;AAKI,aAAS,EAAC;AALd,kBAOI;AACI,WAAO,YAAK/B,EAAL,WADX;AAEI,MAAE,YAAKA,EAAL,WAFN;AAGI,aAAS,EAAC;AAHd,qCAPJ,eAcI,0CACQwB,aADR;AAEI,OAAG,EAAEH,SAFT;AAGI,QAAI,EAAC,MAHT;AAII,MAAE,YAAKrB,EAAL,WAJN;AAKI,gBAAY,EAAC,KALjB;AAMI,yBAAkB,MANtB;AAOI,+BAAkBA,EAAlB,UAPJ;AAQI,6BAAuBU,gBAR3B;AASI,eAAW,EAAER,WATjB;AAUI,YAAQ,EAAEuC,mBAVd;AAWI,WAAO,EAAE,MAAM1B,cAAc,CAAC1C,KAAK,GAAG,CAAT,CAXjC;AAYI,SAAK,EAAE2C,KAZX;AAaI,aAAS,EAAC,+BAbd;AAcI,QAAI,EAAC;AAdT,KAdJ,EA8BKV,YAAY,IACTA,YAAY,CAAC3C,GAAb,CAAkBiF,EAAD,iBACb;AACI,OAAG,EAAEA,EAAE,CAAC5C,EADZ;AAEI,QAAI,EAAC,QAFT;AAGI,QAAI,EAAE4C,EAAE,CAACzF,IAHb;AAII,SAAK,EAAEyF,EAAE,CAACJ;AAJd,IADJ,CA/BR,eAuCI;AACI,QAAI,EAAC,QADT;AAEI,aAAS,EAAC,gCAFd;AAGI,WAAO,EAAE,MAAM3B,SAAS,CAAC,IAAD;AAH5B,kBAKI;AAAK,aAAS,EAAC;AAAf,kBACI,mDADJ,eAEI;AAAK,QAAI,EAAC;AAAV,IAFJ,CALJ,CAvCJ,eAiDI;AAAK,aAAS,EAAC,SAAf;AAAyB,iBAAU;AAAnC,KACKK,cADL,CAjDJ,CATJ,eA8DI,wCACQM,aADR;AAEI,QAAI,EAAC,MAFT;AAGI,iCAAoBxB,EAApB,WAHJ;AAII,MAAE,YAAKA,EAAL,UAJN;AAKI,aAAS,EAAE,oCAEP,CAACc,WAAD,YAFO,EAGT+B,IAHS,CAGJ,GAHI,CALf;AASI,YAAQ,EAAE,CAAC;AATf,MAWK5C,SAAS,IACNA,SAAS,CAACtC,GAAV,CAAc,CAACiF,EAAD,EAAKE,UAAL,KACVrD,aAAa,CAAC,EACV,GAAGmD,EADO;AAEVE,IAAAA,UAFU;AAGVH,IAAAA,WAHU;AAIVpB,IAAAA;AAJU,GAAD,CADjB,CAZR,CA9DJ,CADJ,CADJ;AAwFH;;AAEc,SAASwB,oBAAT,CAA8BrD,KAA9B,EAAqC;AAChD,QAAM;AAAEjD,IAAAA;AAAF,MAAeiD,KAArB;AACA,QAAMsD,mBAAmB,GAAG,IAAIzG,mBAAJ,CAAwBE,QAAxB,CAA5B;AAEA,sBACI,oBAAC,0BAAD;AACI,gBAAY,EAAE6C,4BADlB;AAEI,WAAO,EAAEC,6BAFb;AAGI,uBAAmB,EAAEyD;AAHzB,kBAKI,oBAAC,YAAD,EAAkBtD,KAAlB,CALJ,CADJ;AASH;AAED,MAAM;AAAEuD,EAAAA,MAAF;AAAUC,EAAAA,OAAV;AAAmBC,EAAAA,KAAnB;AAA0BC,EAAAA;AAA1B,IAAqCnE,sBAA3C;AAEAc,YAAY,CAACsD,SAAb,GAAyB;AACrBrD,EAAAA,EAAE,EAAEiD,MADiB;AAErBhD,EAAAA,SAAS,EAAEiD,OAAO,CACdC,KAAK,CAAC;AACFnD,IAAAA,EAAE,EAAEiD,MADF;AAEFK,IAAAA,KAAK,EAAEL,MAFL;AAGFrD,IAAAA,QAAQ,EAAEqD,MAHR;AAIFM,IAAAA,UAAU,EAAEN,MAJV;AAKFO,IAAAA,MAAM,EAAEP;AALN,GAAD,CADS,CAAP,CAQTQ,UAVmB;AAWrBvD,EAAAA,WAAW,EAAE+C,MAXQ;AAYrB9C,EAAAA,QAAQ,EAAEiD,MAZW;AAarBhD,EAAAA,MAAM,EAAE6C,MAba;AAcrB5C,EAAAA,MAAM,EAAE4C;AAda,CAAzB;AAiBAlD,YAAY,CAAC2D,YAAb,GAA4B;AACxB1D,EAAAA,EAAE,EAAE,qBADoB;AAExBE,EAAAA,WAAW,EAAE,2BAFW;AAGxBC,EAAAA,QAAQ,EAAE,GAHc;AAIxBC,EAAAA,MAAM,EAAE,aAJgB;AAKxBC,EAAAA,MAAM,EAAE;AALgB,CAA5B;;;;;;;;;;;;;;AC3RO,MAAMsD,YAAY,GAAG,+BAArB;AACA,MAAMC,cAAc,GAAG,iCAAvB;AACA,MAAMC,YAAY,GAAG,+BAArB;AAEA,MAAMvE,YAAY,GAAG;AACxBlB,EAAAA,OAAO,EAAE,EADe;AAExBC,EAAAA,KAAK,EAAE,CAFiB;AAGxBmC,EAAAA,aAAa,EAAE,CAAC;AAHQ,CAArB;AAMA,MAAMjB,aAAa,GAAG,YAAkC;AAAA,MAAjCuE,KAAiC,uEAAzBxE,YAAyB;AAAA,MAAXc,MAAW;;AAC3D,UAAQA,MAAM,CAAC2D,IAAf;AACI,SAAKH,cAAL;AACI,aAAO,EACH,GAAGE,KADA;AAEH1F,QAAAA,OAAO,EAAEgC,MAAM,CAAChC,OAFb;AAGHC,QAAAA,KAAK,EAAE+B,MAAM,CAAC/B,KAHX;AAIHmC,QAAAA,aAAa,EAAE,CAAC;AAJb,OAAP;;AAMJ,SAAKqD,YAAL;AACI,aAAO,EACH,GAAGC,KADA;AAEHtD,QAAAA,aAAa,EAAEJ,MAAM,CAACI;AAFnB,OAAP;;AAIJ;AACI,aAAO,EAAE,GAAGsD;AAAL,OAAP;AAdR;AAgBH,CAjBM;AAmBA,MAAME,mBAAmB,GAAG,CAACC,QAAD,EAAWC,OAAX,MAAwB;AACvDC,EAAAA,aAAa,EAAE,CAAC/F,OAAD,EAAUC,KAAV,KAAoB;AAC/B4F,IAAAA,QAAQ,CAAC;AACLF,MAAAA,IAAI,EAAEH,cADD;AAELxF,MAAAA,OAFK;AAGLC,MAAAA;AAHK,KAAD,CAAR;AAKH,GAPsD;AAQvDkC,EAAAA,gBAAgB,EAAGC,aAAD,IAAmB;AACjCyD,IAAAA,QAAQ,CAAC;AACLF,MAAAA,IAAI,EAAEF,YADD;AAELrD,MAAAA;AAFK,KAAD,CAAR;AAIH,GAbsD;AAcvDC,EAAAA,YAAY,EAAE,MAAOO,KAAP,IAAiB;AAC3B,QAAI,CAACA,KAAL,EAAY;AACRiD,MAAAA,QAAQ,CAAC;AACLF,QAAAA,IAAI,EAAEH,cADD;AAELxF,QAAAA,OAAO,EAAE,EAFJ;AAGLC,QAAAA,KAAK,EAAE;AAHF,OAAD,CAAR;AAKA;AACH;;AAED,UAAM;AAAED,MAAAA,OAAF;AAAWC,MAAAA,KAAX;AAAkBE,MAAAA;AAAlB,QAA4B,MAAM2F,OAAO,CAAC5G,UAAR,CAAmB0D,KAAnB,CAAxC;;AAEA,QAAIzC,KAAJ,EAAW;AACPC,MAAAA,OAAO,CAACD,KAAR;AAGAC,MAAAA,OAAO,CAAC4F,IAAR,CAAa7F,KAAK,CAAC4D,OAAnB;AAEA8B,MAAAA,QAAQ,CAAC;AACLF,QAAAA,IAAI,EAAEH,cADD;AAELxF,QAAAA,OAAO,EAAE,EAFJ;AAGLC,QAAAA,KAAK,EAAE;AAHF,OAAD,CAAR;AAKA;AACH;;AAED4F,IAAAA,QAAQ,CAAC;AACLF,MAAAA,IAAI,EAAEH,cADD;AAELxF,MAAAA,OAFK;AAGLC,MAAAA;AAHK,KAAD,CAAR;AAKH;AA7CsD,CAAxB,CAA5B;;;;;;;;;;;;;;;;;AC7BP;AACA;AAEA,MAAMmG,KAAK,gBAAGD,oDAAa,EAA3B;AAEAC,KAAK,CAACC,WAAN,GAAoB,WAApB;AAEO,MAAMrF,QAAQ,GAAG,MAAMkF,iDAAU,CAACE,KAAD,CAAjC;AAEA,MAAMnF,aAAa,GAAG,QAKvB;AAAA,MALwB;AAC1BqF,IAAAA,QAD0B;AAE1BpF,IAAAA,YAF0B;AAG1BqF,IAAAA,OAH0B;AAI1B3B,IAAAA;AAJ0B,GAKxB;AACF,QAAM,CAACc,KAAD,EAAQG,QAAR,IAAoBI,iDAAU,CAACM,OAAD,EAAUrF,YAAV,CAApC;AACA,QAAMsF,YAAY,GAAGhG,8CAAO,CACxB,MAAMoF,uEAAmB,CAACC,QAAD,EAAWjB,mBAAX,CADD,EAExB,EAFwB,CAA5B;AAKA,sBACI,iDAAC,KAAD,CAAO,QAAP;AAAgB,SAAK,EAAE,EAAE,GAAG4B,YAAL;AAAmBX,MAAAA,QAAnB;AAA6B,SAAGH;AAAhC;AAAvB,KACKY,QADL,CADJ;AAKH,CAjBM;;;;;;;;ACTP;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,2BAA2B,mBAAO,CAAC,KAA4B;;AAE/D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;AC/DA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,KAAqC,EAAE,qCAO1C,CAAC;AACF;AACA;AACA,mBAAmB,mBAAO,CAAC,KAA4B;AACvD;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA,wCAAwC;AACxC;AACA","sources":["webpack://Plug-and-Play-Template/./src/modules/_data-layer/js/Services/AutocompleteService/AutocompleteService.js","webpack://Plug-and-Play-Template/./src/modules/autocomplete-concierge/jsx/autocomplete.jsx","webpack://Plug-and-Play-Template/./src/modules/autocomplete-concierge/jsx/reducer.js","webpack://Plug-and-Play-Template/./src/modules/autocomplete-concierge/jsx/store.jsx","webpack://Plug-and-Play-Template/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://Plug-and-Play-Template/./node_modules/prop-types/index.js","webpack://Plug-and-Play-Template/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://Plug-and-Play-Template/./src/modules/autocomplete-concierge/jsx/templates|lazy|/^\\.\\/.*$/|groupOptions: {}|namespace object"],"sourcesContent":["/*!\n * @license\n * Copyright Squiz Australia Pty Ltd. All Rights Reserved.\n */\n\n/* eslint-disable import/prefer-default-export */\n\nexport class AutocompleteService {\n    constructor(adapters) {\n        if (!adapters || adapters.length === 0) {\n            throw new Error(\n                `At least one adapter is required for AutocompleteService`\n            );\n        }\n\n        this.autocompleteAdapters = [];\n        const availableAdapters = ['FunnelbackAutocompleteAdapter'];\n\n        Array.from(adapters).forEach((adapter) => {\n            if (availableAdapters.indexOf(adapter.constructor.name) === -1) {\n                throw new Error(\n                    `${adapter.constructor.name} is not implemented yet`\n                );\n            } else {\n                this.registerAdapter(adapter);\n            }\n        });\n    }\n\n    registerAdapter(adapter) {\n        this.autocompleteAdapters.push(adapter);\n    }\n\n    /**\n     * Get search results.\n     *\n     * @param {string} args query string.\n     * @param {function} mockFn Unit test mock function.\n     *\n     * @returns {Promise<array>} A promised list of search results.\n     */\n    getResults(args, mockFn) {\n        return Promise.all(\n            this.autocompleteAdapters.map((adapter) =>\n                adapter.getResults(args, mockFn)\n            )\n        )\n            .then((result) => {\n                const mappedResults = [];\n                let resultsCount = 0;\n                let i = 0;\n\n                // Match each result with its template id.\n                result.map(({ data }, idx) => {\n                    resultsCount += data.length;\n                    mappedResults[idx] = [];\n                    if (data.length) {\n                        data.forEach((element) => {\n                            // eslint-disable-next-line no-plusplus\n                            mappedResults[idx][i++] = element;\n                        });\n                    }\n                    return mappedResults;\n                });\n\n                return { results: mappedResults, count: resultsCount };\n            })\n            .catch((error) => {\n                /* eslint-disable no-console */\n                console.error(error);\n                return { results: 0, count: 0, error };\n            });\n    }\n}\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, {\n    useState,\n    useEffect,\n    useMemo,\n    Suspense,\n    lazy,\n    useRef,\n    createRef,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { useKeyboard, useFocusWithin } from '@react-aria/interactions';\n\nimport { useStore, StoreProvider } from './store';\nimport { initialState, searchReducer } from './reducer';\nimport { useArrayRef } from './helpers';\nimport { AutocompleteService } from '../../_data-layer/js/Services/AutocompleteService/AutocompleteService';\n\n/**\n * Lazy load result templates. We could not use standard hook to laad, as we need to pass array of refs.\n * With memo we caching function but still have ability to rebuild props when refs are changed.\n *\n * @param {object} props Object with props we want to pass into component.\n *\n * @returns {JSX.Element}\n * @constructor\n */\nconst LoadTemplates = (props) => {\n    const componentName = props.template.toLowerCase();\n    const DynamicComponent = useMemo(\n        () => lazy(() => import(`./templates/${componentName}`)),\n        []\n    );\n\n    return (\n        <Suspense\n            key={`component-${componentName}`}\n            fallback={<span className=\"sr-only\">Loading component...</span>}\n        >\n            <DynamicComponent {...props} />\n        </Suspense>\n    );\n};\n\nfunction Autocomplete(props) {\n    const {\n        id,\n        templates,\n        placeholder,\n        debounce,\n        action,\n        method,\n        hiddenFields,\n    } = props;\n\n    const { setSelectedIndex, selectedIndex, count, fetchResults } = useStore();\n\n    const [activeDescendant, setActiveDescendant] = useState(null);\n    const [submit, setSubmit] = useState(null);\n    const [showResults, setShowResults] = useState(null);\n    const [query, setQuery] = useState(``);\n    const [readerAnnounce, setReaderAnnounce] = useState(``);\n\n    const formRef = useRef();\n    const searchBox = createRef();\n\n    const [elements, childRefs] = useArrayRef();\n\n    const { keyboardProps } = useKeyboard({\n        onKeyUp: (e) => {\n            let index = -1;\n            // ESC\n            if (e.keyCode === 27) {\n                setShowResults(false);\n                setSelectedIndex(-1);\n                return;\n            }\n            // Down\n            if (e.keyCode === 40) {\n                index = selectedIndex + 1 >= count ? 0 : selectedIndex + 1;\n            }\n            // Up\n            if (e.keyCode === 38) {\n                index = selectedIndex - 1 < 0 ? count - 1 : selectedIndex - 1;\n            }\n            // Enter\n            if (e.keyCode === 13) {\n                // Nothing selected and enter hit we will post form.\n                if (selectedIndex === -1) {\n                    setSubmit(true);\n                    return;\n                }\n\n                // We will fire onClick event when enter hit\n                elements[selectedIndex].click();\n            }\n\n            setSelectedIndex(index);\n            setActiveDescendant(index);\n            setShowResults(count > 0);\n        },\n        onKeyDown: (e) => {\n            // This wil prevent moving cursor on input field when press down or up also stop form from being posted when enter pressed.\n            if (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 13) {\n                e.preventDefault();\n            }\n            return false;\n        },\n    });\n\n    // This is to handle clicks outside the combobox.\n    const { focusWithinProps } = useFocusWithin({\n        onFocusWithin: () => {\n            setShowResults(count > 0);\n        },\n        onBlurWithin: () => {\n            setShowResults(false);\n        },\n    });\n\n    // Let the screen readers know we have or not results.\n    useEffect(() => {\n        setShowResults(count > 0);\n        const message =\n            count > 0\n                ? `${count} results for ${query}`\n                : `No results found for ${query}`;\n\n        setReaderAnnounce(message);\n    }, [count, query]);\n\n    // When query changed we debounce network request.\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(async () => {\n            await fetchResults(query, templates);\n        }, debounce);\n\n        return () => clearTimeout(delayDebounceFn);\n    }, [query]);\n\n    // This is to handle form submissions.\n    useEffect(() => {\n        if (submit && formRef.current && searchBox.current) {\n            searchBox.current.value = query;\n            formRef.current.submit();\n        }\n    }, [submit]);\n\n    const handleInputOnChange = ({ currentTarget: { value } }) => {\n        setQuery(value);\n    };\n\n    // Standard onClick handler, can be overridden within template component.\n    const handleClick = (e, value) => {\n        e.preventDefault();\n        setQuery(value);\n        setSubmit(true);\n    };\n\n    return (\n        <div className=\"autocomplete-concierge no-wysiwyg\">\n            <div\n                {...focusWithinProps}\n                role=\"combobox\"\n                aria-expanded={showResults}\n                aria-owns={`${id}-grid`}\n                aria-haspopup=\"grid\"\n                aria-controls={`${id}-input`}\n                id={`${id}-combobox`}\n            >\n                <form\n                    ref={formRef}\n                    action={action}\n                    method={method}\n                    onSubmit={(e) => e.preventDefault()}\n                    className=\"autocomplete-concierge__form-wrapper\"\n                >\n                    <label\n                        htmlFor={`${id}-input`}\n                        id={`${id}-label`}\n                        className=\"sr-only\"\n                    >\n                        Autocomplete search concierge\n                    </label>\n                    <input\n                        {...keyboardProps}\n                        ref={searchBox}\n                        type=\"text\"\n                        id={`${id}-input`}\n                        autoComplete=\"off\"\n                        aria-autocomplete=\"list\"\n                        aria-controls={`${id}-grid`}\n                        aria-activedescendant={activeDescendant}\n                        placeholder={placeholder}\n                        onChange={handleInputOnChange}\n                        onClick={() => setShowResults(count > 0)}\n                        value={query}\n                        className=\"autocomplete-concierge__input\"\n                        name=\"query\"\n                    />\n                    {hiddenFields &&\n                        hiddenFields.map((el) => (\n                            <input\n                                key={el.id}\n                                type=\"hidden\"\n                                name={el.name}\n                                value={el.value}\n                            />\n                        ))}\n                    <button\n                        type=\"submit\"\n                        className=\"autocomplete-concierge__submit\"\n                        onClick={() => setSubmit(true)}\n                    >\n                        <svg className=\"svg-icon\">\n                            <title>Submit search</title>\n                            <use href=\"#search\" />\n                        </svg>\n                    </button>\n                    <div className=\"sr-only\" aria-live=\"polite\">\n                        {readerAnnounce}\n                    </div>\n                </form>\n                <div\n                    {...keyboardProps}\n                    role=\"grid\"\n                    aria-labelledby={`${id}-label`}\n                    id={`${id}-grid`}\n                    className={[\n                        `autocomplete-concierge__results`,\n                        !showResults && `hidden`,\n                    ].join(' ')}\n                    tabIndex={-1}\n                >\n                    {templates &&\n                        templates.map((el, templateId) =>\n                            LoadTemplates({\n                                ...el,\n                                templateId,\n                                handleClick,\n                                childRefs,\n                            })\n                        )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default function AutocompleteProvider(props) {\n    const { adapters } = props;\n    const autocompleteService = new AutocompleteService(adapters);\n\n    return (\n        <StoreProvider\n            initialState={initialState}\n            reducer={searchReducer}\n            autocompleteService={autocompleteService}\n        >\n            <Autocomplete {...props} />\n        </StoreProvider>\n    );\n}\n\nconst { string, arrayOf, shape, number } = PropTypes;\n\nAutocomplete.propTypes = {\n    id: string,\n    templates: arrayOf(\n        shape({\n            id: string,\n            label: string,\n            template: string,\n            serviceUrl: string,\n            params: string,\n        })\n    ).isRequired,\n    placeholder: string,\n    debounce: number,\n    action: string,\n    method: string,\n};\n\nAutocomplete.defaultProps = {\n    id: 'autocomplete-search',\n    placeholder: 'Start your search here...',\n    debounce: 500,\n    action: 'search.html',\n    method: 'GET',\n};\n","export const UPDATE_QUERY = 'PNP/AUTOCOMPLETE/UPDATE_QUERY';\nexport const UPDATE_RESULTS = 'PNP/AUTOCOMPLETE/UPDATE_RESULTS';\nexport const SET_SELECTED = 'PNP/AUTOCOMPLETE/SET_SELECTED';\n\nexport const initialState = {\n    results: [],\n    count: 0,\n    selectedIndex: -1,\n};\n\nexport const searchReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case UPDATE_RESULTS:\n            return {\n                ...state,\n                results: action.results,\n                count: action.count,\n                selectedIndex: -1,\n            };\n        case SET_SELECTED:\n            return {\n                ...state,\n                selectedIndex: action.selectedIndex,\n            };\n        default:\n            return { ...state };\n    }\n};\n\nexport const autocompleteContext = (dispatch, service) => ({\n    updateResults: (results, count) => {\n        dispatch({\n            type: UPDATE_RESULTS,\n            results,\n            count,\n        });\n    },\n    setSelectedIndex: (selectedIndex) => {\n        dispatch({\n            type: SET_SELECTED,\n            selectedIndex,\n        });\n    },\n    fetchResults: async (query) => {\n        if (!query) {\n            dispatch({\n                type: UPDATE_RESULTS,\n                results: [],\n                count: 0,\n            });\n            return;\n        }\n\n        const { results, count, error } = await service.getResults(query);\n\n        if (error) {\n            console.error(\n                `There was an error fetching results from the service`\n            );\n            console.info(error.message);\n\n            dispatch({\n                type: UPDATE_RESULTS,\n                results: [],\n                count: 0,\n            });\n            return;\n        }\n\n        dispatch({\n            type: UPDATE_RESULTS,\n            results,\n            count,\n        });\n    },\n});\n","import React, { useReducer, useContext, createContext, useMemo } from 'react';\nimport { autocompleteContext } from './reducer';\n\nconst Store = createContext();\n\nStore.displayName = 'PNP-STORE';\n\nexport const useStore = () => useContext(Store);\n\nexport const StoreProvider = ({\n    children,\n    initialState,\n    reducer,\n    autocompleteService,\n}) => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const autocomplete = useMemo(\n        () => autocompleteContext(dispatch, autocompleteService),\n        []\n    );\n\n    return (\n        <Store.Provider value={{ ...autocomplete, dispatch, ...state }}>\n            {children}\n        </Store.Provider>\n    );\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","var map = {\n\t\"./organic\": [\n\t\t44113,\n\t\t113\n\t],\n\t\"./organic.jsx\": [\n\t\t44113,\n\t\t113\n\t],\n\t\"./people\": [\n\t\t37943,\n\t\t943\n\t],\n\t\"./people.jsx\": [\n\t\t37943,\n\t\t943\n\t],\n\t\"./programs\": [\n\t\t53489,\n\t\t489\n\t],\n\t\"./programs.jsx\": [\n\t\t53489,\n\t\t489\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 42276;\nmodule.exports = webpackAsyncContext;"],"names":["AutocompleteService","constructor","adapters","length","Error","autocompleteAdapters","availableAdapters","Array","from","forEach","adapter","indexOf","name","registerAdapter","push","getResults","args","mockFn","Promise","all","map","then","result","mappedResults","resultsCount","i","idx","data","element","results","count","catch","error","console","React","useState","useEffect","useMemo","Suspense","lazy","useRef","createRef","PropTypes","useKeyboard","useFocusWithin","useStore","StoreProvider","initialState","searchReducer","useArrayRef","LoadTemplates","props","componentName","template","toLowerCase","DynamicComponent","Autocomplete","id","templates","placeholder","debounce","action","method","hiddenFields","setSelectedIndex","selectedIndex","fetchResults","activeDescendant","setActiveDescendant","submit","setSubmit","showResults","setShowResults","query","setQuery","readerAnnounce","setReaderAnnounce","formRef","searchBox","elements","childRefs","keyboardProps","onKeyUp","e","index","keyCode","click","onKeyDown","preventDefault","focusWithinProps","onFocusWithin","onBlurWithin","message","delayDebounceFn","setTimeout","clearTimeout","current","value","handleInputOnChange","currentTarget","handleClick","el","join","templateId","AutocompleteProvider","autocompleteService","string","arrayOf","shape","number","propTypes","label","serviceUrl","params","isRequired","defaultProps","UPDATE_QUERY","UPDATE_RESULTS","SET_SELECTED","state","type","autocompleteContext","dispatch","service","updateResults","info","useReducer","useContext","createContext","Store","displayName","children","reducer","autocomplete"],"sourceRoot":""}